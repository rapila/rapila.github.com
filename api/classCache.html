<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>rapila: Cache Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>Cache Class Reference</h1><!-- doxytag: class="Cache" -->Represents one file in the cache, identified by the dirname and the key (generated/caches/&lt;dir&gt;/&lt;md5(key)&gt;.cache).  
<a href="#_details">More...</a>
<p>
<a href="classCache-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e4c45776d2c47e0b57d584c48033203f"></a><!-- doxytag: member="Cache::__construct" ref="e4c45776d2c47e0b57d584c48033203f" args="($sKey, $mPath=null)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>__construct</b> ($sKey, $mPath=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#2a1631031d812e595fe4818be66c0d94">cacheFileExists</a> ($bTakeOffStatusIntoAccount=true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#728e98605813189880b1048628538501">getFilePath</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#c60fd97dcbfef6d37e9cf487063fad11">getModificationDate</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#b0aac2190bb4defdccea02a77cc38d3e">getAge</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#88b82bb76642c7160d6651c079df583c">isOutdated</a> ($mOriginalFilePath)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#1d9a41ef404551eb0e885eba9327f693">isOlderThan</a> ($iTimestamp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#88dcf3f26093cf7e7f9b20729d85a88b">ageIsMoreThan</a> ($iSeconds=0, $iMinutes=0, $iHours=0, $iDays=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#9c324a4a780d2ed6e4749e7ff92b1aeb">getContentsAsString</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#c11a2a9be8f09619ae1154268ed815ae">fileSize</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#78063284399035ffe766725802bfef8a">passContents</a> ($bOutputContentLength=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#5cb24e756fcd41a56919689f7b3ceb1c">getContentsAsVariable</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#51bd4aac28794bb71d68162dbf6d8a38">setContents</a> ($mContents, $bForceSerialize=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#5859f00d6e5e492652e24fa342068b2c">sendCacheControlHeaders</a> ($iTimestamp=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#fb605824fbc73f702f563d71f187c5ab">cacheIsOffForWriting</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#7f0e6c6d3de597ccf57cd079d4865876">cacheIsOff</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#1410874c28b67c04f8e0850eb23d72ea">clearAllCaches</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Represents one file in the cache, identified by the dirname and the key (generated/caches/&lt;dir&gt;/&lt;md5(key)&gt;.cache). 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="88dcf3f26093cf7e7f9b20729d85a88b"></a><!-- doxytag: member="Cache::ageIsMoreThan" ref="88dcf3f26093cf7e7f9b20729d85a88b" args="($iSeconds=0, $iMinutes=0, $iHours=0, $iDays=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::ageIsMoreThan           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>iSeconds</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>iMinutes</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>iHours</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>iDays</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convenience function for isOlderThan; takes a relative time and computes an absolute timestamp 
</div>
</div><p>
<a class="anchor" name="2a1631031d812e595fe4818be66c0d94"></a><!-- doxytag: member="Cache::cacheFileExists" ref="2a1631031d812e595fe4818be66c0d94" args="($bTakeOffStatusIntoAccount=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::cacheFileExists           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>bTakeOffStatusIntoAccount</em> = <code>true</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if a file representing this cache entry already exists, false otherwise 
</div>
</div><p>
<a class="anchor" name="7f0e6c6d3de597ccf57cd079d4865876"></a><!-- doxytag: member="Cache::cacheIsOff" ref="7f0e6c6d3de597ccf57cd079d4865876" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::cacheIsOff           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if, for whatever reason, no data should be read from the cache. This returns true if either The cache is off for writing The request parameter nocache is set The cache-control headers are set to no-cache (i.e. the user forced a-super reload in the browser) 
</div>
</div><p>
<a class="anchor" name="fb605824fbc73f702f563d71f187c5ab"></a><!-- doxytag: member="Cache::cacheIsOffForWriting" ref="fb605824fbc73f702f563d71f187c5ab" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::cacheIsOffForWriting           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if, for whatever reason, no data should be written to the cache. This can be triggered by the general-&gt;caching boolean setting in config.yml Caching of config files is always on 
</div>
</div><p>
<a class="anchor" name="1410874c28b67c04f8e0850eb23d72ea"></a><!-- doxytag: member="Cache::clearAllCaches" ref="1410874c28b67c04f8e0850eb23d72ea" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Cache::clearAllCaches           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes all cache files but not their parent directories. 
</div>
</div><p>
<a class="anchor" name="c11a2a9be8f09619ae1154268ed815ae"></a><!-- doxytag: member="Cache::fileSize" ref="c11a2a9be8f09619ae1154268ed815ae" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::fileSize           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the size of the cache file without reading the contents 
</div>
</div><p>
<a class="anchor" name="b0aac2190bb4defdccea02a77cc38d3e"></a><!-- doxytag: member="Cache::getAge" ref="b0aac2190bb4defdccea02a77cc38d3e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::getAge           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the age of the cached contents in seconds 
</div>
</div><p>
<a class="anchor" name="9c324a4a780d2ed6e4749e7ff92b1aeb"></a><!-- doxytag: member="Cache::getContentsAsString" ref="9c324a4a780d2ed6e4749e7ff92b1aeb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::getContentsAsString           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the raw (possibly binary) contents of the cache file 
</div>
</div><p>
<a class="anchor" name="5cb24e756fcd41a56919689f7b3ceb1c"></a><!-- doxytag: member="Cache::getContentsAsVariable" ref="5cb24e756fcd41a56919689f7b3ceb1c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::getContentsAsVariable           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the cached contents if they were not a string when saving 
</div>
</div><p>
<a class="anchor" name="728e98605813189880b1048628538501"></a><!-- doxytag: member="Cache::getFilePath" ref="728e98605813189880b1048628538501" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::getFilePath           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the full path to the cache file. Note that this file may not yet exist 
</div>
</div><p>
<a class="anchor" name="c60fd97dcbfef6d37e9cf487063fad11"></a><!-- doxytag: member="Cache::getModificationDate" ref="c60fd97dcbfef6d37e9cf487063fad11" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::getModificationDate           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the cached content's modification date. Note that this will result in an error if the cache file does not (yet) exist 
</div>
</div><p>
<a class="anchor" name="1d9a41ef404551eb0e885eba9327f693"></a><!-- doxytag: member="Cache::isOlderThan" ref="1d9a41ef404551eb0e885eba9327f693" args="($iTimestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::isOlderThan           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>iTimestamp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compares the timestamp of the cached contents to the given timestamp and returns true if the cached contents are older, false otherwise 
</div>
</div><p>
<a class="anchor" name="88b82bb76642c7160d6651c079df583c"></a><!-- doxytag: member="Cache::isOutdated" ref="88b82bb76642c7160d6651c079df583c" args="($mOriginalFilePath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::isOutdated           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>mOriginalFilePath</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Looks if the cached contents are older than the modified dates of any of the given files Pass a <a class="el" href="classResourceFinder.html">ResourceFinder</a> instance rather than an array to prevent the (potentially expensive) call to ResourceFinder-&gt;find() in production. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string|array|ResourceFinder</em>&nbsp;</td><td>$mOriginalFilePath </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="78063284399035ffe766725802bfef8a"></a><!-- doxytag: member="Cache::passContents" ref="78063284399035ffe766725802bfef8a" args="($bOutputContentLength=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::passContents           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>bOutputContentLength</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Outputs the raw contents directly to the client 
</div>
</div><p>
<a class="anchor" name="5859f00d6e5e492652e24fa342068b2c"></a><!-- doxytag: member="Cache::sendCacheControlHeaders" ref="5859f00d6e5e492652e24fa342068b2c" args="($iTimestamp=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::sendCacheControlHeaders           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>iTimestamp</em> = <code>null</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the cache control headers Last-Modified and ETag Uses the given timestamp as base for calculation. If it is omitted, the timestamp of the cache file is used; Additionally, this method exits if the client sent a matching If-None-Match or If-Modified-Since header You can call this method twice if you created a new cache file and don’t have any other timestamp. It will only output the headers once. 
</div>
</div><p>
<a class="anchor" name="51bd4aac28794bb71d68162dbf6d8a38"></a><!-- doxytag: member="Cache::setContents" ref="51bd4aac28794bb71d68162dbf6d8a38" args="($mContents, $bForceSerialize=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::setContents           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>mContents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>bForceSerialize</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Saves the cache file with the given contents. If value is a string, the data is saved to the file in raw, serialized otherwise 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>cms-full/base/lib/classes/Cache.php</ul>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jun 4 03:07:19 2012 for rapila by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
