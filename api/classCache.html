<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>rapila: Cache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ra.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">rapila
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classCache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Cache Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Represents one file in the cache, identified by the dirname and the key (generated/caches/&lt;dir&gt;/&lt;md5(key)&gt;.cache).  
 <a href="classCache.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9bb641ed4355cabdb30cd276bc81873b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9bb641ed4355cabdb30cd276bc81873b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__construct</b> ($sKey, $mPath=null)</td></tr>
<tr class="separator:a9bb641ed4355cabdb30cd276bc81873b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae03615cf45623490afb121b65133608b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#ae03615cf45623490afb121b65133608b">cacheFileExists</a> ($bTakeOffStatusIntoAccount=true)</td></tr>
<tr class="separator:ae03615cf45623490afb121b65133608b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff49547a1a73acaf02f0c948c48c119"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#a7ff49547a1a73acaf02f0c948c48c119">getFilePath</a> ()</td></tr>
<tr class="separator:a7ff49547a1a73acaf02f0c948c48c119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0418d9766593260c27bf06e502eb299"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#aa0418d9766593260c27bf06e502eb299">getModificationDate</a> ()</td></tr>
<tr class="separator:aa0418d9766593260c27bf06e502eb299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8532a190b81a8499ace9be8d60578e8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#a8532a190b81a8499ace9be8d60578e8b">getAge</a> ()</td></tr>
<tr class="separator:a8532a190b81a8499ace9be8d60578e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f5bc389d11ebefdf83f8c61af33a7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#a54f5bc389d11ebefdf83f8c61af33a7b">isOutdated</a> ($mOriginalFilePath)</td></tr>
<tr class="separator:a54f5bc389d11ebefdf83f8c61af33a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9978261d84e08ea7b60f37d6afb59400"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#a9978261d84e08ea7b60f37d6afb59400">isOlderThan</a> ($iTimestamp)</td></tr>
<tr class="separator:a9978261d84e08ea7b60f37d6afb59400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50664c49a105115cba1f7d2326dcf042"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#a50664c49a105115cba1f7d2326dcf042">ageIsMoreThan</a> ($iSeconds=0, $iMinutes=0, $iHours=0, $iDays=0)</td></tr>
<tr class="separator:a50664c49a105115cba1f7d2326dcf042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe23c6ea5ea237f9533aa6500e1fe76"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#aafe23c6ea5ea237f9533aa6500e1fe76">getContentsAsString</a> ()</td></tr>
<tr class="separator:aafe23c6ea5ea237f9533aa6500e1fe76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaea755a4fee40589895521bd1dccfd4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#aaaea755a4fee40589895521bd1dccfd4">fileSize</a> ()</td></tr>
<tr class="separator:aaaea755a4fee40589895521bd1dccfd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487a021a021c429ed2be998b89f62bba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#a487a021a021c429ed2be998b89f62bba">passContents</a> ($bOutputContentLength=false)</td></tr>
<tr class="separator:a487a021a021c429ed2be998b89f62bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f36357302ba6b7cd0275273cb128ad4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#a5f36357302ba6b7cd0275273cb128ad4">getContentsAsVariable</a> ()</td></tr>
<tr class="separator:a5f36357302ba6b7cd0275273cb128ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c407d59a4c36c6680aa830b9ba850a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#ac1c407d59a4c36c6680aa830b9ba850a">setContents</a> ($mContents, $bForceSerialize=false)</td></tr>
<tr class="separator:ac1c407d59a4c36c6680aa830b9ba850a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a432777089014b30cac00e25e97584c0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#a432777089014b30cac00e25e97584c0c">sendCacheControlHeaders</a> ($iTimestamp=null)</td></tr>
<tr class="separator:a432777089014b30cac00e25e97584c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0bbf2b30ce981767719975aa4dd8014"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#aa0bbf2b30ce981767719975aa4dd8014">cacheIsOffForWriting</a> ()</td></tr>
<tr class="separator:aa0bbf2b30ce981767719975aa4dd8014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca9d388492857e626deb801c202ccce0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#aca9d388492857e626deb801c202ccce0">cacheIsOff</a> ()</td></tr>
<tr class="separator:aca9d388492857e626deb801c202ccce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a71848003e9645abc57e2d4e8871c775a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCache.html#a71848003e9645abc57e2d4e8871c775a">clearAllCaches</a> ()</td></tr>
<tr class="separator:a71848003e9645abc57e2d4e8871c775a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents one file in the cache, identified by the dirname and the key (generated/caches/&lt;dir&gt;/&lt;md5(key)&gt;.cache). </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a50664c49a105115cba1f7d2326dcf042"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::ageIsMoreThan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$iSeconds</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$iMinutes</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$iHours</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$iDays</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convenience function for isOlderThan; takes a relative time and computes an absolute timestamp </p>

</div>
</div>
<a class="anchor" id="ae03615cf45623490afb121b65133608b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::cacheFileExists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bTakeOffStatusIntoAccount</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if a file representing this cache entry already exists, false otherwise </p>

</div>
</div>
<a class="anchor" id="aca9d388492857e626deb801c202ccce0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::cacheIsOff </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if, for whatever reason, no data should be read from the cache. This returns true if either The cache is off for writing The request parameter nocache is set The cache-control headers are set to no-cache (i.e. the user forced a-super reload in the browser) </p>

</div>
</div>
<a class="anchor" id="aa0bbf2b30ce981767719975aa4dd8014"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::cacheIsOffForWriting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if, for whatever reason, no data should be written to the cache. This can be triggered by the general-&gt;caching boolean setting in config.yml Caching of config files is always on </p>

</div>
</div>
<a class="anchor" id="a71848003e9645abc57e2d4e8871c775a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Cache::clearAllCaches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Removes all cache files but not their parent directories. </p>

</div>
</div>
<a class="anchor" id="aaaea755a4fee40589895521bd1dccfd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::fileSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the size of the cache file without reading the contents </p>

</div>
</div>
<a class="anchor" id="a8532a190b81a8499ace9be8d60578e8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::getAge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the age of the cached contents in seconds </p>

</div>
</div>
<a class="anchor" id="aafe23c6ea5ea237f9533aa6500e1fe76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::getContentsAsString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the raw (possibly binary) contents of the cache file </p>

</div>
</div>
<a class="anchor" id="a5f36357302ba6b7cd0275273cb128ad4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::getContentsAsVariable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the cached contents if they were not a string when saving </p>

</div>
</div>
<a class="anchor" id="a7ff49547a1a73acaf02f0c948c48c119"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::getFilePath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the full path to the cache file. Note that this file may not yet exist </p>

</div>
</div>
<a class="anchor" id="aa0418d9766593260c27bf06e502eb299"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::getModificationDate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the cached content's modification date. Note that this will result in an error if the cache file does not (yet) exist </p>

</div>
</div>
<a class="anchor" id="a9978261d84e08ea7b60f37d6afb59400"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::isOlderThan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$iTimestamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compares the timestamp of the cached contents to the given timestamp and returns true if the cached contents are older, false otherwise </p>

</div>
</div>
<a class="anchor" id="a54f5bc389d11ebefdf83f8c61af33a7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::isOutdated </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mOriginalFilePath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Looks if the cached contents are older than the modified dates of any of the given files Pass a <a class="el" href="classResourceFinder.html" title="Allows to easily find files residing inside rapila’s site structure, following the precedence rules (...">ResourceFinder</a> instance rather than an array to prevent the (potentially expensive) call to ResourceFinder-&gt;find() in production. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;array&#160;|&#160;<a class="el" href="classResourceFinder.html" title="Allows to easily find files residing inside rapila’s site structure, following the precedence rules (...">ResourceFinder</a></td><td class="paramname">$mOriginalFilePath</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a487a021a021c429ed2be998b89f62bba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::passContents </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bOutputContentLength</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Outputs the raw contents directly to the client </p>

</div>
</div>
<a class="anchor" id="a432777089014b30cac00e25e97584c0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::sendCacheControlHeaders </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$iTimestamp</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends the cache control headers Last-Modified and ETag Uses the given timestamp as base for calculation. If it is omitted, the timestamp of the cache file is used; Additionally, this method exits if the client sent a matching If-None-Match or If-Modified-Since header You can call this method twice if you created a new cache file and don’t have any other timestamp. It will only output the headers once. </p>

</div>
</div>
<a class="anchor" id="ac1c407d59a4c36c6680aa830b9ba850a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Cache::setContents </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mContents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bForceSerialize</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Saves the cache file with the given contents. If value is a string, the data is saved to the file in raw, serialized otherwise </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cms-full/base/lib/classes/Cache.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 29 2014 03:07:17 for rapila by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
